/* @shinsenter/defer.js */
!function(u,i,t){var a,r,o=[],c=/p/.test(i.readyState),s="IntersectionObserver",f=/^data-(.+)/,e="pageshow",l="lazied",d="length",n="Attribute",h="SCRIPT",m="load",v="forEach",p="has"+n,y="nodeName",b="set"+n;function g(e,n,t,o){return o=(n?i.getElementById(n):r)||i.createElement(e||h),n&&(o.id=n),t&&(o.onload=t),o}function I(e){return[].slice.call(e.attributes)}function E(e){i.head.appendChild(e)}function N(e,n){return[].slice.call((n||i).querySelectorAll(e))}function x(e){a(function(o){o=N(e||"[type=deferjs]"),function e(n,t){(n=o.shift())&&(n.parentNode.removeChild(n),(t=function(e,n,t,o,i){for(n=g(e[y]),i=0,t=I(e);i<t[d];i++)"type"!=(o=t[i]).name&&n[b](o.name,o.value);return n.text=e.text,n}(n)).src&&!t[p]("async")?(t.onload=t.onerror=e,E(t)):(E(t),e()))}()})}function C(e,n,t,o,i){for(o=0,t=I(e);o<t[d];o++)(i=f.exec(t[o].name))&&e[b](i[1],t[o].value);N("source",e)[v](C),m in e&&e[m](),n&&(e.className+=" "+n)}(a=function(e,n){c?t(e,n):o.push(e,n)}).all=x,a.js=function(n,t,e,o){a(function(e){(e=g(r,t,o)).src=n,E(e)},e)},a.css=function(n,t,e,o){a(function(e){(e=g("LINK",t,o)).rel="stylesheet",e.href=n,E(e)},e)},a.dom=function(e,n,i,r,c){a(function(t,n){function o(e){r&&!1===r(e)||C(e,i)}n=s in u?(t=new u[s](function(e){e[v](function(e,n){e.isIntersecting&&(n=e.target)&&(t.unobserve(n),o(n))})},c)).observe.bind(t):o,N(e||"[data-src]")[v](function(e){e[p](l)||(e[b](l,e[y]),n(e))})},n)},a.reveal=C,u.addEventListener("on"+e in u?e:m,function(){for(c=!x();o[0];)a(o.shift(),o.shift())}),u.Defer=a}(this,document,setTimeout);
